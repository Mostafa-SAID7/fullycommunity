@tailwind base;
@tailwind components;
@tailwind utilities;

/* Microsoft Fluent Design System Inspired Styles */
@layer base {
  * {
    @apply border-border dark:border-border-dark;
  }
  
  body {
    @apply bg-background dark:bg-background-dark text-secondary-900 dark:text-secondary-100 font-segoe;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
  
  /* Scrollbar Styling */
  ::-webkit-scrollbar {
    @apply w-2;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-secondary-300 dark:bg-secondary-600 rounded-full;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-secondary-400 dark:bg-secondary-500;
  }
}

@layer components {
  /* Fluent Design Focus Ring */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 focus:ring-offset-background dark:focus:ring-offset-background-dark;
  }
  
  /* Fluent Design Elevation */
  .elevation-1 {
    @apply shadow-fluent;
  }
  
  .elevation-2 {
    @apply shadow-fluent-lg;
  }
  
  .elevation-3 {
    @apply shadow-fluent-xl;
  }
  
  /* Fluent Design Surfaces */
  .surface {
    @apply bg-background dark:bg-background-dark border border-border dark:border-border-dark rounded-fluent-lg;
  }
  
  .surface-elevated {
    @apply bg-background dark:bg-background-dark shadow-fluent-lg rounded-fluent-lg;
  }
  
  /* Fluent Design Interactive States */
  .interactive {
    @apply transition-all duration-200 hover:shadow-fluent-lg hover:-translate-y-0.5 active:translate-y-0 active:shadow-fluent;
  }
  
  /* Fluent Design Typography */
  .text-display {
    @apply text-4xl font-light tracking-tight;
  }
  
  .text-title-large {
    @apply text-2xl font-semibold;
  }
  
  .text-title {
    @apply text-xl font-semibold;
  }
  
  .text-subtitle {
    @apply text-lg font-medium;
  }
  
  .text-body-large {
    @apply text-base;
  }
  
  .text-body {
    @apply text-sm;
  }
  
  .text-caption {
    @apply text-xs text-secondary-600 dark:text-secondary-400;
  }
  
  /* Fluent Design Acrylic Effect */
  .acrylic {
    @apply bg-background/80 dark:bg-background-dark/80 backdrop-blur-xl border border-border/50 dark:border-border-dark/50;
  }
  
  /* Fluent Design Reveal Effect */
  .reveal {
    @apply relative overflow-hidden;
  }
  
  .reveal::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -translate-x-full transition-transform duration-700;
  }
  
  .reveal:hover::before {
    @apply translate-x-full;
  }
}

@layer utilities {
  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.2s ease-in-out;
  }
  
  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }
  
  .animate-scale-in {
    animation: scaleIn 0.2s ease-out;
  }
  
  /* Bounce animation for loading dots */
  @keyframes bounce {
    0%, 80%, 100% {
      transform: scale(0);
    }
    40% {
      transform: scale(1);
    }
  }
}

/* Dark mode improvements */
@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
  }
}

/* Custom styles */
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  color: #050505;
  background: #f0f2f5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a {
  color: inherit;
  text-decoration: none;
}

button {
  font-family: inherit;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #bcc0c4;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #8a8d91;
}

/* RTL Support */
html[dir="rtl"] {
  direction: rtl;
  text-align: right;
}

html[dir="rtl"] body {
  font-family: 'Segoe UI', Tahoma, 'Noto Sans Arabic', 'Noto Kufi Arabic', Arial, sans-serif;
}

/* RTL specific adjustments */
html.rtl .flex-row-reverse {
  flex-direction: row !important;
}

html.rtl .text-left {
  text-align: right !important;
}

html.rtl .text-right {
  text-align: left !important;
}

html.rtl .ml-auto {
  margin-left: 0 !important;
  margin-right: auto !important;
}

html.rtl .mr-auto {
  margin-right: 0 !important;
  margin-left: auto !important;
}

html.rtl .pl-4 {
  padding-left: 0 !important;
  padding-right: 1rem !important;
}

html.rtl .pr-4 {
  padding-right: 0 !important;
  padding-left: 1rem !important;
}

/* RTL transitions */
html[dir="rtl"] * {
  transition-property: all;
  transition-timing-function: ease-in-out;
}

/* Arabic font improvements */
html[dir="rtl"] {
  font-feature-settings: "liga" 1, "calt" 1;
}

/* Fix for icons in RTL */
html[dir="rtl"] .icon-flip {
  transform: scaleX(-1);
}

/* Language transition animation */
.lang-transition {
  transition: opacity 0.2s ease-in-out;
}

/* Dark mode RTL support */
@media (prefers-color-scheme: dark) {
  html[dir="rtl"] body {
    background: #18191a;
    color: #e4e6eb;
  }
}
