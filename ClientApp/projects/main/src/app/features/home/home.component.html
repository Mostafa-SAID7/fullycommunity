<div class="home-page">
  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <h1>Welcome to <span class="brand">CommunityCar</span></h1>
      <p>Connect with car enthusiasts, find expert mechanics, and share your automotive journey</p>
      <div class="hero-actions">
        @if (!user()) {
          <a routerLink="/register" class="btn-primary">Join Community</a>
          <a routerLink="/login" class="btn-outline">Sign In</a>
        } @else {
          <a routerLink="/community" class="btn-primary">Go to Feed</a>
          <a routerLink="/marketplace" class="btn-outline">Browse Marketplace</a>
        }
      </div>
    </div>
    <div class="hero-image">
      <svg viewBox="0 0 400 300" fill="none">
        <rect x="50" y="150" width="300" height="80" rx="20" fill="#1877f2" opacity="0.1"/>
        <circle cx="120" cy="230" r="30" fill="#1877f2" opacity="0.3"/>
        <circle cx="280" cy="230" r="30" fill="#1877f2" opacity="0.3"/>
        <path d="M80 150 L100 100 L300 100 L320 150" stroke="#1877f2" stroke-width="4" fill="none"/>
        <rect x="110" y="110" width="40" height="30" rx="5" fill="#42b72a" opacity="0.5"/>
        <rect x="250" y="110" width="40" height="30" rx="5" fill="#42b72a" opacity="0.5"/>
      </svg>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="stats-section">
    <div class="stat-card">
      <span class="stat-number">{{ stats().members | number }}</span>
      <span class="stat-label">Community Members</span>
    </div>
    <div class="stat-card">
      <span class="stat-number">{{ stats().posts | number }}</span>
      <span class="stat-label">Posts & Discussions</span>
    </div>
    <div class="stat-card">
      <span class="stat-number">{{ stats().experts | number }}</span>
      <span class="stat-label">Verified Experts</span>
    </div>
    <div class="stat-card">
      <span class="stat-number">{{ stats().garages | number }}</span>
      <span class="stat-label">Partner Garages</span>
    </div>
  </section>

  <!-- Categories Section -->
  <section class="categories-section">
    <h2>Explore Topics</h2>
    <div class="categories-grid">
      @for (cat of categories(); track cat.id) {
        <a [routerLink]="['/community']" [queryParams]="{category: cat.id}" class="category-card">
          <div class="category-icon">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
            </svg>
          </div>
          <span>{{ cat.name }}</span>
        </a>
      }
    </div>
  </section>

  <!-- Featured Posts -->
  <section class="featured-section">
    <div class="section-header">
      <h2>Featured Posts</h2>
      <a routerLink="/community" class="view-all">View All ‚Üí</a>
    </div>
    
    @if (loading()) {
      <div class="loading">Loading posts...</div>
    } @else {
      <div class="posts-grid">
        @for (post of featuredPosts(); track post.id) {
          <a [routerLink]="['/community/post', post.id]" class="post-card">
            <div class="post-header">
              <div class="author-avatar">{{ post.author.firstName?.charAt(0) }}{{ post.author.lastName?.charAt(0) }}</div>
              <div class="author-info">
                <span class="author-name">{{ post.author.firstName }} {{ post.author.lastName }}</span>
                <span class="post-time">{{ getTimeAgo(post.publishedAt || post.createdAt) }}</span>
              </div>
            </div>
            <h3>{{ post.title }}</h3>
            <p>{{ post.content | slice:0:120 }}...</p>
            <div class="post-stats">
              <span>üëç {{ post.likeCount }}</span>
              <span>üí¨ {{ post.commentCount }}</span>
              <span>üëÅ {{ post.viewCount }}</span>
            </div>
          </a>
        }
      </div>
    }
  </section>

  <!-- Features Section -->
  <section class="features-section">
    <h2>Why Join CommunityCar?</h2>
    <div class="features-grid">
      <div class="feature-card">
        <div class="feature-icon">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
          </svg>
        </div>
        <h3>Connect with Enthusiasts</h3>
        <p>Join thousands of car lovers sharing their passion, knowledge, and experiences.</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/>
          </svg>
        </div>
        <h3>Find Trusted Services</h3>
        <p>Discover verified mechanics, garages, and service providers in your area.</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
          </svg>
        </div>
        <h3>Buy & Sell Parts</h3>
        <p>Access our marketplace for quality car parts, accessories, and vehicles.</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/>
          </svg>
        </div>
        <h3>Learn from Videos</h3>
        <p>Watch tutorials, reviews, and guides from automotive experts.</p>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <h2>Ready to join the community?</h2>
    <p>Start connecting with car enthusiasts today</p>
    @if (!user()) {
      <a routerLink="/register" class="btn-primary large">Create Free Account</a>
    } @else {
      <a routerLink="/community" class="btn-primary large">Explore Community</a>
    }
  </section>
</div>
