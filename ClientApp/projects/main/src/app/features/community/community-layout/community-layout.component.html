<div class="community-layout">
  <!-- Left Sidebar -->
  <aside class="left-sidebar">
    <!-- User Profile Quick Access -->
    @if (user()) {
      <a routerLink="/profile" class="user-profile-link">
        <div class="avatar">{{ getUserInitials() }}</div>
        <span>{{ user()?.firstName }} {{ user()?.lastName }}</span>
      </a>
    }

    <!-- Main Menu -->
    <nav class="sidebar-nav">
      @for (item of leftMenuItems; track item.route) {
        <a [routerLink]="item.route" 
           routerLinkActive="active" 
           [routerLinkActiveOptions]="{exact: item.exact || false}"
           class="nav-link">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path [attr.d]="getIcon(item.icon)"/>
          </svg>
          <span>{{ item.label }}</span>
        </a>
      }
    </nav>

    <hr class="divider">

    <!-- Shortcuts -->
    <div class="shortcuts-section">
      <h4>Your Shortcuts</h4>
      @for (shortcut of shortcuts(); track shortcut.id) {
        <a [routerLink]="'/community/groups/' + shortcut.id" class="shortcut-link">
          <div class="shortcut-img" [style.background-image]="'url(' + shortcut.image + ')'">
            <span class="fallback">{{ shortcut.name.charAt(0) }}</span>
          </div>
          <span>{{ shortcut.name }}</span>
        </a>
      }
    </div>

    <!-- Footer Links -->
    <div class="sidebar-footer">
      <a href="#">Privacy</a> · <a href="#">Terms</a> · <a href="#">About</a>
      <p>© 2024 CommunityCar</p>
    </div>
  </aside>

  <!-- Main Content Area -->
  <main class="main-content">
    <router-outlet></router-outlet>
  </main>

  <!-- Right Sidebar -->
  <aside class="right-sidebar">
    <!-- Sponsored / Ads -->
    <div class="sidebar-card">
      <h4>Sponsored</h4>
      <a href="#" class="sponsored-item">
        <img src="/assets/ads/car-parts.jpg" alt="Car Parts" onerror="this.style.display='none'">
        <div class="sponsored-info">
          <p>Premium Car Parts</p>
          <span>autoparts.com</span>
        </div>
      </a>
    </div>

    <hr class="divider">

    <!-- Birthdays / Events -->
    <div class="sidebar-card">
      <h4>Upcoming Events</h4>
      <div class="event-reminder">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"/>
        </svg>
        <div>
          <p>Car Meet - Downtown</p>
          <span>Tomorrow at 6:00 PM</span>
        </div>
      </div>
    </div>

    <hr class="divider">

    <!-- Online Friends / Contacts -->
    <div class="sidebar-card contacts-section">
      <div class="contacts-header">
        <h4>Contacts</h4>
        <div class="contacts-actions">
          <button class="icon-btn-sm" title="Search">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
            </svg>
          </button>
          <button class="icon-btn-sm" title="Options">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
            </svg>
          </button>
        </div>
      </div>
      <div class="contacts-list">
        <a href="#" class="contact-item">
          <div class="contact-avatar online">
            <span>JD</span>
          </div>
          <span class="contact-name">John Doe</span>
        </a>
        <a href="#" class="contact-item">
          <div class="contact-avatar online">
            <span>AS</span>
          </div>
          <span class="contact-name">Alice Smith</span>
        </a>
        <a href="#" class="contact-item">
          <div class="contact-avatar">
            <span>BJ</span>
          </div>
          <span class="contact-name">Bob Johnson</span>
        </a>
        <a href="#" class="contact-item">
          <div class="contact-avatar online">
            <span>MW</span>
          </div>
          <span class="contact-name">Mike Wilson</span>
        </a>
      </div>
    </div>
  </aside>
</div>
