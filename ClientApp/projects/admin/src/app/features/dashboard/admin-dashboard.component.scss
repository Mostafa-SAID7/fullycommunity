@import '../../shared/styles/index';

// Host Container
// -----------------------------------------------------------------------------
:host {
  display: block;
  width: 100%;
}

// System Health Banner
// -----------------------------------------------------------------------------
.system-health-banner {
  margin-bottom: $spacing-6;
  padding: $spacing-4 $spacing-5;
  border-radius: $border-radius-lg;
  border: 1px solid;
  transition: all $transition-base;

  &.healthy {
    background: linear-gradient(135deg, rgba($success-50, 0.9), rgba($success-100, 0.7));
    border-color: $success-300;
  }

  &.warning {
    background: linear-gradient(135deg, rgba($warning-50, 0.9), rgba($warning-100, 0.7));
    border-color: $warning-300;
  }

  &.critical {
    background: linear-gradient(135deg, rgba($error-50, 0.9), rgba($error-100, 0.7));
    border-color: $error-300;
  }

  .health-content {
    @include flex-between;
    align-items: center;

    .health-status {
      @include flex-start;
      gap: $spacing-3;
      align-items: center;

      .status-indicator {
        width: 12px;
        height: 12px;
        border-radius: $border-radius-full;
        animation: pulse 2s ease-in-out infinite;

        &.healthy {
          background: $success-500;
        }

        &.warning {
          background: $warning-500;
        }

        &.critical {
          background: $error-500;
        }
      }

      .status-text {
        font-weight: $font-weight-semibold;
        font-size: $font-size-base;

        &.healthy {
          color: $success-700;
        }

        &.warning {
          color: $warning-700;
        }

        &.critical {
          color: $error-700;
        }
      }
    }
  }
}

// Stats Grid
// -----------------------------------------------------------------------------
.stats-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: $spacing-5;
  margin-bottom: $spacing-8;

  @include respond-to('sm') {
    grid-template-columns: repeat(2, 1fr);
  }

  @include respond-to('lg') {
    grid-template-columns: repeat(4, 1fr);
    gap: $spacing-6;
  }

  .stat-card {
    background: $bg-primary;
    border: 1px solid $border-primary;
    border-radius: $border-radius-lg;
    padding: $spacing-5;
    transition: all $transition-base;
    box-shadow: $shadow-sm;

    &:hover {
      box-shadow: $shadow-md;
      transform: translateY(-2px);
    }

    h3 {
      font-size: $font-size-sm;
      color: $text-secondary;
      font-weight: $font-weight-medium;
      margin: 0 0 $spacing-2 0;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    p {
      font-size: $font-size-3xl;
      font-weight: $font-weight-bold;
      color: $text-primary;
      margin: 0 0 $spacing-1 0;
    }

    small {
      font-size: $font-size-sm;
      color: $text-muted;
    }
  }
}

// Quick Actions Section
// -----------------------------------------------------------------------------
.quick-actions-section {
  margin-bottom: $spacing-8;

  .section-title {
    font-size: $font-size-2xl;
    font-weight: $font-weight-bold;
    color: $text-primary;
    margin-bottom: $spacing-5;
  }

  .actions-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: $spacing-4;

    @include respond-to('sm') {
      grid-template-columns: repeat(2, 1fr);
    }

    @include respond-to('lg') {
      grid-template-columns: repeat(4, 1fr);
      gap: $spacing-5;
    }
  }

  .action-card {
    display: flex;
    flex-direction: column;
    padding: $spacing-5;
    background: $bg-primary;
    border-radius: $border-radius-lg;
    border: 1px solid $border-primary;
    text-decoration: none;
    transition: all $transition-base;
    box-shadow: $shadow-sm;

    &:hover {
      box-shadow: $shadow-lg;
      border-color: $color-primary;
      transform: translateY(-4px);
      text-decoration: none;
    }

    .action-header {
      @include flex-start;
      gap: $spacing-3;
      margin-bottom: $spacing-3;

      .action-icon {
        width: 40px;
        height: 40px;
        border-radius: $border-radius-lg;
        @include flex-center;
        flex-shrink: 0;

        &.blue {
          background: linear-gradient(135deg, $primary-500, $primary-600);
        }

        &.green {
          background: linear-gradient(135deg, $success-500, $success-600);
        }

        &.purple {
          background: linear-gradient(135deg, $purple-500, $purple-600);
        }

        &.gray {
          background: linear-gradient(135deg, $neutral-500, $neutral-600);
        }

        svg {
          width: 20px;
          height: 20px;
          color: white;
        }
      }

      .action-title {
        font-weight: $font-weight-semibold;
        font-size: $font-size-base;
        color: $text-primary;
        margin: 0;
      }
    }

    .action-description {
      font-size: $font-size-sm;
      color: $text-secondary;
      line-height: 1.5;
    }
  }
}

// Main Content Grid (Activity + System Status)
// -----------------------------------------------------------------------------
.main-content-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: $spacing-6;
  margin-bottom: $spacing-8;

  @include respond-to('lg') {
    grid-template-columns: 2fr 1fr;
  }
}

// Card Base Styles
// -----------------------------------------------------------------------------
@mixin dashboard-card {
  background: $bg-primary;
  border-radius: $border-radius-lg;
  box-shadow: $shadow-sm;
  padding: $spacing-6;
  border: 1px solid $border-primary;
  transition: all $transition-base;
}

// Recent Activity Card
// -----------------------------------------------------------------------------
.activity-card {
  @include dashboard-card;

  .activity-header {
    @include flex-between;
    margin-bottom: $spacing-5;
    align-items: center;

    .activity-title {
      font-size: $font-size-xl;
      font-weight: $font-weight-bold;
      color: $text-primary;
      margin: 0;
    }

    .view-all-link {
      font-size: $font-size-sm;
      color: $color-primary;
      font-weight: $font-weight-semibold;
      text-decoration: none;

      &:hover {
        color: $color-primary-hover;
        text-decoration: underline;
      }
    }
  }

  .activity-list {
    display: flex;
    flex-direction: column;
    gap: $spacing-2;

    .activity-item {
      @include flex-start;
      gap: $spacing-3;
      padding: $spacing-3;
      border-radius: $border-radius-md;
      transition: background-color $transition-fast;

      &:hover {
        background: $bg-secondary;
      }

      &.priority {
        border-left: 3px solid transparent;

        &.user-registered {
          border-left-color: $primary-500;
        }

        &.content-posted {
          border-left-color: $success-500;
        }

        &.content-moderated {
          border-left-color: $warning-500;
        }

        &.system-alert {
          border-left-color: $error-500;
        }
      }

      .activity-icon {
        flex-shrink: 0;

        .icon-wrapper {
          width: 36px;
          height: 36px;
          border-radius: $border-radius-full;
          @include flex-center;

          &.blue {
            background: rgba($primary-100, 0.8);
          }

          &.green {
            background: rgba($success-100, 0.8);
          }

          &.yellow {
            background: rgba($warning-100, 0.8);
          }

          &.red {
            background: rgba($error-100, 0.8);
          }

          svg {
            width: 18px;
            height: 18px;

            &.blue {
              color: $primary-600;
            }

            &.green {
              color: $success-600;
            }

            &.yellow {
              color: $warning-600;
            }

            &.red {
              color: $error-600;
            }
          }
        }
      }

      .activity-content {
        flex: 1;
        min-width: 0;

        .activity-message {
          font-size: $font-size-sm;
          font-weight: $font-weight-medium;
          color: $text-primary;
          margin: 0 0 $spacing-1 0;
        }

        .activity-meta {
          @include flex-start;
          gap: $spacing-2;
          font-size: $font-size-xs;
          color: $text-muted;

          .meta-separator {
            opacity: 0.6;
          }
        }
      }
    }
  }
}

// System Status Card
// -----------------------------------------------------------------------------
.system-status-card {
  @include dashboard-card;

  .status-title {
    font-size: $font-size-xl;
    font-weight: $font-weight-bold;
    color: $text-primary;
    margin: 0 0 $spacing-5 0;
  }

  .status-list {
    .status-item {
      @include flex-between;
      padding: $spacing-3 0;
      border-bottom: 1px solid $border-primary;

      &:last-child {
        border-bottom: none;
        padding-bottom: 0;
      }

      .status-info {
        @include flex-start;
        gap: $spacing-2;

        .status-dot {
          width: 8px;
          height: 8px;
          border-radius: $border-radius-full;
          flex-shrink: 0;

          &.online {
            background: $success-500;
          }

          &.warning {
            background: $warning-500;
          }

          &.offline {
            background: $error-500;
          }
        }

        .status-name {
          font-size: $font-size-sm;
          color: $text-primary;
          font-weight: $font-weight-medium;
        }
      }

      .status-value {
        font-size: $font-size-sm;
        font-weight: $font-weight-semibold;

        &.online {
          color: $success-600;
        }

        &.warning {
          color: $warning-600;
        }

        &.offline {
          color: $error-600;
        }
      }
    }
  }

  .user-stats-section {
    margin-top: $spacing-5;
    padding-top: $spacing-5;
    border-top: 2px solid $border-primary;

    .stats-title {
      font-size: $font-size-base;
      font-weight: $font-weight-bold;
      color: $text-primary;
      margin: 0 0 $spacing-3 0;
    }

    .stats-list {
      .stats-item {
        @include flex-between;
        padding: $spacing-2 0;

        .stats-label {
          font-size: $font-size-sm;
          color: $text-secondary;
        }

        .stats-value {
          font-size: $font-size-base;
          font-weight: $font-weight-bold;
          color: $color-primary;
        }
      }
    }
  }
}

// Content Overview Card
// -----------------------------------------------------------------------------
.content-overview-card {
  @include dashboard-card;

  .content-header {
    @include flex-between;
    margin-bottom: $spacing-5;
    align-items: center;

    .content-title {
      font-size: $font-size-xl;
      font-weight: $font-weight-bold;
      color: $text-primary;
      margin: 0;
    }

    .manage-link {
      font-size: $font-size-sm;
      color: $color-primary;
      font-weight: $font-weight-semibold;
      text-decoration: none;

      &:hover {
        color: $color-primary-hover;
        text-decoration: underline;
      }
    }
  }

  .content-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: $spacing-3;

    @include respond-to('sm') {
      grid-template-columns: repeat(3, 1fr);
      gap: $spacing-4;
    }

    @include respond-to('md') {
      grid-template-columns: repeat(5, 1fr);
    }
  }

  .content-item {
    text-align: center;
    padding: $spacing-4;
    border-radius: $border-radius-lg;
    transition: all $transition-base;
    cursor: pointer;

    &.posts {
      background: linear-gradient(135deg, rgba($primary-50, 0.8), rgba($primary-100, 0.6));
    }

    &.questions {
      background: linear-gradient(135deg, rgba($success-50, 0.8), rgba($success-100, 0.6));
    }

    &.reviews {
      background: linear-gradient(135deg, rgba($warning-50, 0.8), rgba($warning-100, 0.6));
    }

    &.guides {
      background: linear-gradient(135deg, rgba($purple-50, 0.8), rgba($purple-100, 0.6));
    }

    &.podcasts {
      background: linear-gradient(135deg, rgba($info-50, 0.8), rgba($info-100, 0.6));
    }

    &:hover {
      transform: translateY(-2px);
      box-shadow: $shadow-md;
    }

    .content-count {
      font-size: $font-size-3xl;
      font-weight: $font-weight-bold;
      margin: 0 0 $spacing-2 0;

      &.posts {
        color: $primary-600;
      }

      &.questions {
        color: $success-600;
      }

      &.reviews {
        color: $warning-600;
      }

      &.guides {
        color: $purple-600;
      }

      &.podcasts {
        color: $info-600;
      }
    }

    .content-label {
      font-size: $font-size-sm;
      color: $text-secondary;
      font-weight: $font-weight-medium;
      margin: 0;
    }
  }
}

// Animations
// -----------------------------------------------------------------------------
@keyframes pulse {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.5;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// Dark Mode Support
// -----------------------------------------------------------------------------
@include dark-mode {
  .system-health-banner {
    &.healthy {
      background: linear-gradient(135deg, rgba($success-900, 0.3), rgba($success-800, 0.2));
      border-color: $success-700;
    }

    &.warning {
      background: linear-gradient(135deg, rgba($warning-900, 0.3), rgba($warning-800, 0.2));
      border-color: $warning-700;
    }

    &.critical {
      background: linear-gradient(135deg, rgba($error-900, 0.3), rgba($error-800, 0.2));
      border-color: $error-700;
    }
  }

  .activity-card,
  .system-status-card,
  .content-overview-card {
    background: $dark-bg-secondary;
    border-color: $dark-border-primary;
  }
}