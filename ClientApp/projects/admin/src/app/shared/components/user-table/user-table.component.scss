
:host {
  display: block;
  width: 100%;
}

// Table Container
// -----------------------------------------------------------------------------
.user-table-container {
  display: none;
  background: $bg-primary;
  border-radius: $border-radius-xl;
  box-shadow: $shadow-sm;
  border: 1px solid $border-primary;
  overflow: hidden;
  
  @include respond-to('lg') {
    display: block;
  }
}

// Table Styles
// -----------------------------------------------------------------------------
.user-table {
  min-width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  
  .table-header {
    background: $bg-secondary;
    
    .header-row {
      .header-cell {
        padding: $spacing-3 $spacing-6;
        text-align: left;
        font-size: $font-size-xs;
        font-weight: $font-weight-medium;
        color: $text-muted;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        border-bottom: 1px solid $border-primary;
      }
    }
  }
  
  .table-body {
    background: $bg-primary;
    
    .table-row {
      transition: background-color $transition-fast;
      
      &:hover {
        background: rgba($bg-secondary, 0.5);
      }
      
      &:not(:last-child) {
        border-bottom: 1px solid $border-primary;
      }
      
      .table-cell {
        padding: $spacing-4 $spacing-6;
        white-space: nowrap;
        vertical-align: middle;
        
        &.user-info {
          .user-details {
            @include flex-start;
            gap: $spacing-3;
            
            .user-avatar {
              width: 2.5rem;
              height: 2.5rem;
              background: linear-gradient(135deg, $color-primary, $color-primary-hover);
              border-radius: $border-radius-full;
              @include flex-center;
              color: $text-inverse;
              font-weight: $font-weight-semibold;
              font-size: $font-size-sm;
              flex-shrink: 0;
            }
            
            .user-text {
              .user-name {
                font-size: $font-size-sm;
                font-weight: $font-weight-medium;
                color: $text-primary;
                margin-bottom: 0.125rem;
              }
              
              .user-username {
                font-size: $font-size-sm;
                color: $text-muted;
              }
            }
          }
        }
        
        &.user-email {
          font-size: $font-size-sm;
          color: $text-primary;
        }
        
        &.user-roles {
          .roles-container {
            @include flex-start;
            flex-wrap: wrap;
            gap: 0.25rem;
          }
        }
        
        &.user-joined {
          font-size: $font-size-sm;
          color: $text-muted;
        }
        
        &.user-actions {
          .actions-container {
            @include flex-start;
            gap: $spacing-2;
            
            .action-button {
              background: none;
              border: none;
              cursor: pointer;
              font-size: $font-size-sm;
              font-weight: $font-weight-medium;
              transition: color $transition-fast;
              
              &.edit-button {
                color: $color-primary;
                
                &:hover {
                  color: $color-primary-hover;
                }
              }
              
              &.activate-button {
                color: $success-600;
                
                &:hover {
                  color: $success-700;
                }
              }
              
              &.block-button {
                color: $error-600;
                
                &:hover {
                  color: $error-700;
                }
              }
            }
          }
        }
      }
      
      &.empty-row {
        .empty-cell {
          padding: $spacing-12 $spacing-6;
          text-align: center;
          color: $text-muted;
          font-size: $font-size-base;
        }
      }
    }
  }
}

// Badge Styles
// -----------------------------------------------------------------------------
.role-badge,
.status-badge {
  @include flex-center;
  padding: 0.125rem 0.625rem;
  border-radius: $border-radius-full;
  font-size: $font-size-xs;
  font-weight: $font-weight-medium;
  
  // Role Badge Colors
  &.role-super-admin {
    background: rgba($purple-100, 0.8);
    color: $purple-800;
  }
  
  &.role-user-admin {
    background: rgba($primary-100, 0.8);
    color: $primary-800;
  }
  
  &.role-content-admin {
    background: rgba($indigo-100, 0.8);
    color: $indigo-800;
  }
  
  &.role-expert {
    background: rgba($success-100, 0.8);
    color: $success-800;
  }
  
  &.role-reviewer {
    background: rgba($warning-100, 0.8);
    color: $warning-800;
  }
  
  &.role-user {
    background: rgba($neutral-100, 0.8);
    color: $neutral-800;
  }
  
  // Status Badge Colors
  &.status-active {
    background: rgba($success-100, 0.8);
    color: $success-800;
  }
  
  &.status-inactive {
    background: rgba($neutral-100, 0.8);
    color: $neutral-800;
  }
  
  &.status-banned {
    background: rgba($error-100, 0.8);
    color: $error-800;
  }
  
  &.status-pending {
    background: rgba($warning-100, 0.8);
    color: $warning-800;
  }
}

// Dark Mode Support
// -----------------------------------------------------------------------------
@include dark-mode {
  .user-table-container {
    background: $dark-bg-secondary;
    border-color: $dark-border-primary;
  }
  
  .user-table {
    .table-header {
      background: $dark-bg-tertiary;
      
      .header-cell {
        color: $dark-text-secondary;
        border-color: $dark-border-primary;
      }
    }
    
    .table-body {
      background: $dark-bg-secondary;
      
      .table-row {
        &:hover {
          background: rgba($dark-bg-tertiary, 0.5);
        }
        
        &:not(:last-child) {
          border-color: $dark-border-primary;
        }
        
        .table-cell {
          &.user-info {
            .user-text {
              .user-name {
                color: $dark-text-primary;
              }
              
              .user-username {
                color: $dark-text-secondary;
              }
            }
          }
          
          &.user-email {
            color: $dark-text-primary;
          }
          
          &.user-joined {
            color: $dark-text-secondary;
          }
        }
        
        &.empty-row {
          .empty-cell {
            color: $dark-text-secondary;
          }
        }
      }
    }
  }
  
  // Dark mode badge colors
  .role-badge,
  .status-badge {
    &.role-super-admin {
      background: rgba($purple-900, 0.3);
      color: $purple-300;
    }
    
    &.role-user-admin {
      background: rgba($primary-900, 0.3);
      color: $primary-300;
    }
    
    &.role-content-admin {
      background: rgba($indigo-900, 0.3);
      color: $indigo-300;
    }
    
    &.role-expert {
      background: rgba($success-900, 0.3);
      color: $success-300;
    }
    
    &.role-reviewer {
      background: rgba($warning-900, 0.3);
      color: $warning-300;
    }
    
    &.role-user {
      background: rgba($neutral-800, 0.3);
      color: $neutral-300;
    }
    
    &.status-active {
      background: rgba($success-900, 0.3);
      color: $success-300;
    }
    
    &.status-inactive {
      background: rgba($neutral-800, 0.3);
      color: $neutral-300;
    }
    
    &.status-banned {
      background: rgba($error-900, 0.3);
      color: $error-300;
    }
    
    &.status-pending {
      background: rgba($warning-900, 0.3);
      color: $warning-300;
    }
  }
}

// High Contrast Mode
// -----------------------------------------------------------------------------
@include high-contrast {
  .user-table-container,
  .role-badge,
  .status-badge {
    border: 2px solid currentColor;
  }
  
  .action-button {
    border: 1px solid currentColor;
    padding: 0.125rem 0.25rem;
  }
}

// Reduced Motion
// -----------------------------------------------------------------------------
@include reduced-motion {
  .table-row,
  .action-button {
    transition: none;
  }
}