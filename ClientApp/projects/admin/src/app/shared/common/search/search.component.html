<div [class]="getContainerClasses()">
  <!-- Search Icon -->
  <div class="search-icon">
    <svg *ngIf="!loading" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
    </svg>
    
    <!-- Loading Spinner -->
    <div *ngIf="loading" class="search-spinner"></div>
  </div>

  <!-- Input Field -->
  <input
    type="text"
    class="search-input"
    [placeholder]="placeholder"
    [value]="value"
    [disabled]="disabled"
    (input)="onInput($event)"
    (keydown)="onKeydown($event)"
    (focus)="onFocus()"
    (blur)="onBlur()"
    autocomplete="off"
    spellcheck="false">

  <!-- Clear Button -->
  <button
    *ngIf="showClearButton && value && !loading"
    type="button"
    class="search-clear"
    [disabled]="disabled"
    (click)="onClear()"
    aria-label="Clear search">
    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
    </svg>
  </button>

  <!-- Search Button -->
  <button
    type="button"
    class="search-button"
    [disabled]="disabled || loading"
    (click)="onSearch()"
    aria-label="Search">
    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
    </svg>
  </button>
</div>